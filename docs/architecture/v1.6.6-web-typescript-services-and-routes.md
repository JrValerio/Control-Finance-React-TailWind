# Arquitetura v1.6.6 (Web TypeScript - Services and Routes)

## Objetivo
Avancar a migracao incremental de TypeScript no `apps/web` com foco em camada de servicos e entrypoints de roteamento.

## Escopo

- Conversao de `api.js` para `api.ts`
- Tipagem minima de healthcheck e erro de API
- Conversao de `AppRoutes.jsx` para `AppRoutes.tsx`
- Conversao de `main.jsx` para `main.tsx`
- Atualizacao do entrypoint no `index.html`

## Mudancas

### Services
- Novo arquivo `src/services/types.ts` com:
  - `ApiHealth`
  - `ApiErrorResponse`
- `src/services/api.ts` com:
  - `resolveApiUrl` tipado
  - `getApiHealth(): Promise<ApiHealth>`
  - tipagem de handler de unauthorized e erro de configuracao

### Routing / Entry
- `src/AppRoutes.tsx`
- `src/main.tsx` com guarda para elemento `#root`
- `index.html` apontando para `/src/main.tsx`

## Resultado

- Incremento de seguranca de tipos em pontos criticos (API client + bootstrap de rotas)
- Sem alteracao de contrato backend
- Sem mudanca de comportamento funcional no runtime
