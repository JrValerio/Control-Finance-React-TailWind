# Arquitetura v1.3.1 (Transactions by User)

## Objetivo
Concluir o PR3 com transacoes reais por usuario autenticado e frontend usando API como fonte unica de verdade.

## Backend (`apps/api`)

- `transactions.service` com store em memoria separada por `userId`.
- `listTransactionsByUser(userId)` retorna apenas dados do usuario autenticado.
- `createTransactionForUser(userId, payload)` valida:
  - `type`: `Entrada` ou `Saida`
  - `value`: numero > 0
  - `date`: `YYYY-MM-DD` (ou data atual por padrao)
- `deleteTransactionForUser(userId, id)` remove apenas transacao do proprio usuario.
- Rotas protegidas por `authMiddleware`:
  - `GET /transactions`
  - `POST /transactions`
  - `DELETE /transactions/:id`

## Frontend (`apps/web`)

- `App` tornou-se API-first:
  - carrega transacoes via `transactionsService.list()`
  - cria via `transactionsService.create(payload)`
  - remove via `transactionsService.remove(id)`
- `localStorage` de transacoes removido.
- Erros de request exibidos no dashboard com opcao de retry.
- Sessao continua JWT-based via `AuthProvider` + interceptor Axios.

## Integracao e seguranca

- `userId` e inferido exclusivamente do token JWT no backend.
- Usuario autenticado nao acessa/transfere dados de outro usuario.
- `401` em qualquer request autenticada encerra sessao no frontend.
